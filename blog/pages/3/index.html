<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Developing on Staxmanade - Developing on Staxmanade</title>
  <meta name="author" content="Jason Jarrett">


   <meta name="description" content="Jason Jarrett&#x27;s Blog and Website.">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <link rel="canonical" href="http://staxmanade.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.feedburner.com/DevelopingOnStaxmande" rel="alternate" title="Developing on Staxmanade" type="application/atom+xml">
    <script src="/js/modernizr-2.0.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./js/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/js/octopress.js" type="text/javascript"></script>
    <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1017448-6']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

</head>

<body   >
<header role="banner"><hgroup>
  <h1><a href="/">Developing on Staxmanade</a></h1>

   <a class="subscribe-button" href="/subscribe">Subscribe</a>
</hgroup>

</header>
<nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/DevelopingOnStaxmande" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
</ul>
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:staxmanade.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/about">About</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
<div id="main">
    <div id="content">
        
<div class="blog-index">
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">Habit of a Solid Developer - Part 5 - Update or Add Documentation while Reading Code</a></h1>
    <p class="meta">
          <time datetime="2015-10-02T06:20:41.092Z" pubdate data-updated="true">Oct 1st 2015</time>


        <a href="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/#disqus_thread" data-disqus-identifier="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>﻿
<div class="seriesNote">
    <p>This article is <strong>Part 5</strong> of <strong>11</strong> in a series about <strong>Habit of a Solid Developer</strong>.</p>
    <ul>
        <li>
            Part 1 - <a href="/2015/08/habit-of-a-solid-developer-introduction/">Introduction</a>
        </li>
        <li>
            Part 2 - <a href="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">Automatically Enforce Project Conventions</a>
        </li>
        <li>
            Part 3 - <a href="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">Self Prescribed Code Reviews</a>
        </li>
        <li>
            Part 4 - <a href="/2015/09/habit-of-a-solid-developer-git-dance/">Git Dance</a>
        </li>
        <li>
            Part 5 - (current) - Update or Add Documentation while Reading Code
        </li>
        <li>
            Part 6 - <a href="/2015/10/habit-of-a-solid-developer-dig-a-little-deeper/">Dig a Little Deeper</a>
        </li>
        <li>
            Part 7 - <a href="/2015/11/habit-of-a-solid-developer-changes-should-be-taken-with-baby-steps/">Changes Should be Taken with Baby Steps</a>
        </li>
        <li>
            Part 8 - <a href="/2015/11/habit-of-a-solid-developer-podcasts/">Podcasts</a>
        </li>
        <li>
            Part 9 - <a href="/2016/01/habit-of-a-solid-developer-rapid-feedback/">Rapid Feedback</a>
        </li>
    </ul>
</div></p>
<p>While I generally sit on the side of the fence that your code should <strong>read clearly</strong> enough that comments should not be necessary. I concede that there are (often) times when a comment can really help to make the job of understanding the code much easier than just how a variable or method is named or organized.</p>
<p>One example of such case is when you've gotten lost in the code and don't understand how a piece of it works.</p>
<p>The second you figure or re-discover it's intent, <strong>try to add or update some comments</strong> in the code that may help you or the next person understand it more clearly in the future.</p>
<p>You can argue that a comment should have been added initially, but life happens and we don't always save little nuances like we should or we're given a codebase that is not as clean as we would like. So if you catch yourself digging through some code and a bit confused in an area, take the time to document it (once you figure out what you didn't understand).</p>
<p>This is especially true when you are the original writer of sed un-clear code. I know I've gone through code I've written and been like, &quot;hmm, no idea what I was thinking here...&quot; or &quot;well, there was a reason I did this stupid thing, but now I don't remember what that was. Wish I would have commented a little more to my future self&quot;.</p>
<p>Sometimes it may be a simple variable rename or refactor that would clean it up. But <strong>don't just figure it out and not leave a breadcrumb</strong> for the next person (or yourself) to more easily grok the code.</p>
<p><strong>Add clarity to un-clear code.</strong></p>
<pre><code><span class="hljs-comment">// When I wrote this, only God and I understood what I was doing</span>
<span class="hljs-comment">// Now, God only knows</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// http://stackoverflow.com/a/316233/1402137</span>
</code></pre>
<h1><a href="http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered/316233">Now go read these comments</a> and enjoy!</h1>
<p>Happy Understanding!</p>
</div>

      <a href="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/#disqus_thread" data-disqus-identifier="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/09/habit-of-a-solid-developer-git-dance/">Habit of a Solid Developer - Part 4 - Git Dance</a></h1>
    <p class="meta">
          <time datetime="2015-09-30T06:20:41.092Z" pubdate data-updated="true">Sep 29th 2015</time>


        <a href="/2015/09/habit-of-a-solid-developer-git-dance/#disqus_thread" data-disqus-identifier="/2015/09/habit-of-a-solid-developer-git-dance/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>﻿
<div class="seriesNote">
    <p>This article is <strong>Part 4</strong> of <strong>11</strong> in a series about <strong>Habit of a Solid Developer</strong>.</p>
    <ul>
        <li>
            Part 1 - <a href="/2015/08/habit-of-a-solid-developer-introduction/">Introduction</a>
        </li>
        <li>
            Part 2 - <a href="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">Automatically Enforce Project Conventions</a>
        </li>
        <li>
            Part 3 - <a href="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">Self Prescribed Code Reviews</a>
        </li>
        <li>
            Part 4 - (current) - Git Dance
        </li>
        <li>
            Part 5 - <a href="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">Update or Add Documentation while Reading Code</a>
        </li>
        <li>
            Part 6 - <a href="/2015/10/habit-of-a-solid-developer-dig-a-little-deeper/">Dig a Little Deeper</a>
        </li>
        <li>
            Part 7 - <a href="/2015/11/habit-of-a-solid-developer-changes-should-be-taken-with-baby-steps/">Changes Should be Taken with Baby Steps</a>
        </li>
        <li>
            Part 8 - <a href="/2015/11/habit-of-a-solid-developer-podcasts/">Podcasts</a>
        </li>
        <li>
            Part 9 - <a href="/2016/01/habit-of-a-solid-developer-rapid-feedback/">Rapid Feedback</a>
        </li>
    </ul>
</div></p>
<p>When it comes to solid dev habits, source control should be on the top of your list as a given. So much so that I'm not going to talk about the pro's and pro's (see what I did there?) of source control. I did however, want to walk through something I call my <code>git dance</code> which is mostly just the rhythmic steps I take while pulling in changes from a remote repository while working on a project.</p>
<p>For a little context, this workflow is what I usually do while working on an internal project using git with a team where we may or may not be using pull requests, but the goal of this dance is to bring in any remote changes and layer my changes in on the <code>master</code> branch (or whatever branch we're developing on).</p>
<p>My favorite thing about git is there is no &quot;right way&quot; to do things and when you get good enough at it the 'rules' people place on using git can mostly be wiped away. However, the below steps, while not always followed, are generally what I use to stay happy and healthy when dealing with others changes.</p>
<h1><a href="http://git-scm.com/docs/git-fetch">Fetch</a> remote changes (don't <a href="http://git-scm.com/docs/git-pull">pull</a>)</h1>
<p>So if we know or don't know that there are changes remotely</p>
<pre><code>git fetch
</code></pre>
<p>or sometimes (if I have multiple remotes)</p>
<pre><code>git fetch --all
</code></pre>
<p>Why use <code>fetch</code> when I could be using <code>pull</code>?</p>
<p>I prefer to <code>fetch</code> any changes as this gives me the opportunity to review a visual of the commit graph before any action is taken. This allows me to take different paths depending on what the before commit graph looks like vs what I want the after to look like. <code>Git pull</code> is essentially a short-cut for both <code>fetch</code>ing and <code>merge</code>ing the code and I often don't want to just merge a remote change.</p>
<p>After I have any remote changes pulled (err fetched) locally I like to get a mental model of the recent commits.</p>
<h1>Review remote changes</h1>
<pre><code>gitk --all
</code></pre>
<p>Now the <code>gitk</code> U.I. is horrible to look at (and I'm sure you have your favorite git visualizer), but it provides enough info to review changes between the current <code>HEAD</code> of my local branch and any remote changes that have come in with the <code>git fetch</code> step above. The <code>--all</code> is important in gitk, as it will show you all branches (including remote branches) that were fetched.</p>
<p>I use this overview to not only <a href="http://staxmanade.com/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">code review changes</a>, but to help determine whether I want to <code>merge</code> or <code>rebase</code> with the remote changes.</p>
<h1>Merge or Rebase</h1>
<p>Once my review is complete, I've taken a look at the overall changes, and I have a mental model of what the current commit graph looks like. I generate a mental visual of what I want the commit graph to look like when I'm done. I will decide to either:</p>
<h2>Merge</h2>
<pre><code>git merge [origin/master | otherBranch]
</code></pre>
<p>Or</p>
<h2>Rebase</h2>
<pre><code>git rebase [origin/master | otherBranch]
</code></pre>
<p>Once my changes have been synced up with the remote changes, I push them up.</p>
<h1>Ship changes up to the origin</h1>
<pre><code>git push origin master
</code></pre>
<p>or</p>
<pre><code>git push origin &lt;branchName&gt;
</code></pre>
<p>Now it's not a complicated workflow and it can get a bit trickier, but the key here is doing the fetch, review, integrate workflow over automatically pulling in remote changes. This allows me the space to potentially <a href="https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History">interactive rebase</a> or muck with my commits locally before pushing anything public.</p>
<p>Happy <code>gitting</code>!</p>
</div>

      <a href="/2015/09/habit-of-a-solid-developer-git-dance/#disqus_thread" data-disqus-identifier="/2015/09/habit-of-a-solid-developer-git-dance/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/09/tvos-simulator-remote---keyboard-shortcuts-replacement/">tvOS Simulator Remote - Keyboard Shortcuts/Replacement</a></h1>
    <p class="meta">
          <time datetime="2015-09-16T05:06:14.601Z" pubdate data-updated="true">Sep 15th 2015</time>


        <a href="/2015/09/tvos-simulator-remote---keyboard-shortcuts-replacement/#disqus_thread" data-disqus-identifier="/2015/09/tvos-simulator-remote---keyboard-shortcuts-replacement/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>I've begun some baby steps on my journey to learn the new <a href="https://developer.apple.com/tvos/">Apple TV</a> development tools and platform and we just discovered that the cumbersome tvOS Simulator Remote can almost be ignored because we can use our development keyboards in it's place.</p>
<p>Playing around with the new Apple <code>tvOS</code> development kit you may have noticed that using the simulator remote is quite annoying. Not only does it force you to take you hand off the keyboard (to move to the mouse), but's just plain awkward to have to hold down <code>Option</code> while you use the Mouse and <code>Swipe Up/Down/Left/Right</code> when you may be trying to do is navigate the U.I.</p>
<p>Luckily a coworker stumbled upon the arrow key commands and we quickly figured out a mapping of <code>tvOS Remote Buttons</code> &lt;--&gt; <code>Keyboard Keys</code> that can help any developer navigate and test their <code>tvOS</code> app just a little faster within the simulator.</p>
<!--
| Mac Simulator Remote | Developer Keyboard Alias          | Notes                                                       |
|----------------------|-----------------------------------|-------------------------------------------------------------|
| Touch Surface (←, ↑, →, ↓)   | Keyboard Arrow Keys (←, ↑, →, ↓)  |                                                             |
| Touch Surface (click/select)| `<Enter>`                  | Also `<Enter>` on the number pad does NOT appear to work.   |
| `Menu`               | `Tap <ESC>`                       |                                                             |
| `Home`               | `Long-Press <ESC>`                |                                                             |
| `Siri`               | Unknown (so far)                  | Not sure if this is supported in the simulator, but if you figure it out, let me know and I'll update the post |
| `Play/Pause`         | `<SpaceBar>`                      |                                                             |
| `Volume Up/Down`     | Unknown (so far)                  |                                                             |
-->
<style>
.atvRemoteDisplay table {
  border-collapse: collapse;
}
.atvRemoteDisplay th {
  font-size: larger;
  font-weight: bolder;
}
.atvRemoteDisplay td, .atvRemoteDisplay th {
  border: 1px solid #999;
  padding: 0.5rem;
  text-align: left;
}
</style>
<table class="atvRemoteDisplay">
  <tr>
    <th>Mac Simulator Remote</th>
    <th>Developer Keyboard Alias</th>
    <th>Notes</th>
  </tr>
  <tr>
    <td>Touch Surface (←, ↑, →, ↓)</td>
    <td>Keyboard Arrow Keys (←, ↑, →, ↓)</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td>Touch Surface (click/select)</td>
    <td><code>&lt;Enter&gt;</code></td>
    <td>Also <code>&lt;Enter&gt;</code> on the number pad does NOT appear to work.</td>
  </tr>
  <tr>
    <td><code>Menu</code></td>
    <td><code>Tap &lt;ESC&gt;</code></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><code>Home</code></td>
    <td><code>Long-Press &lt;ESC&gt;</code></td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><code>Siri</code></td>
    <td>Unknown (so far)</td>
    <td>Not sure if this is supported in the simulator, but if you figure it out, let me know and I'll update the post</td>
  </tr>
  <tr>
    <td><code>Play/Pause</code></td>
    <td><code>&lt;SpaceBar&gt;`</td>
    <td>&nbsp;</td>
  </tr>
  <tr>
    <td><code>Volume Up/Down</code></td>
    <td>Unknown (so far)</td>
    <td>&nbsp;</td>
  </tr>
</table>
<blockquote>
<p>If you discover what the two <code>Unknown</code> values above map to, leave a comment below and I'll update this post with the complete list.</p>
</blockquote>
<h4>Screenshot of Simulator Apple TV Remote</h4>
<p><img src="../../../images/posts/AppleTVSimulatorRemote.png" alt="Screenshot of Simulator Apple TV Remote"></p>
<h4>Diagram of actual Apple TV Remote</h4>
<p><img alt="Diagram of tvOS buttons" style="max-width: 700px;" src="https://developer.apple.com/tvos/human-interface-guidelines/remote-and-interaction/images/remote-and-interaction-remote-diagram_2x.png" /></p>
<p>Happy tvOS building!</p>
</div>

      <a href="/2015/09/tvos-simulator-remote---keyboard-shortcuts-replacement/#disqus_thread" data-disqus-identifier="/2015/09/tvos-simulator-remote---keyboard-shortcuts-replacement/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">Habit of a Solid Developer - Part 3 - Self Prescribed Code Reviews</a></h1>
    <p class="meta">
          <time datetime="2015-09-14T06:20:41.092Z" pubdate data-updated="true">Sep 13th 2015</time>


        <a href="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/#disqus_thread" data-disqus-identifier="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>﻿
<div class="seriesNote">
    <p>This article is <strong>Part 3</strong> of <strong>11</strong> in a series about <strong>Habit of a Solid Developer</strong>.</p>
    <ul>
        <li>
            Part 1 - <a href="/2015/08/habit-of-a-solid-developer-introduction/">Introduction</a>
        </li>
        <li>
            Part 2 - <a href="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">Automatically Enforce Project Conventions</a>
        </li>
        <li>
            Part 3 - (current) - Self Prescribed Code Reviews
        </li>
        <li>
            Part 4 - <a href="/2015/09/habit-of-a-solid-developer-git-dance/">Git Dance</a>
        </li>
        <li>
            Part 5 - <a href="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">Update or Add Documentation while Reading Code</a>
        </li>
        <li>
            Part 6 - <a href="/2015/10/habit-of-a-solid-developer-dig-a-little-deeper/">Dig a Little Deeper</a>
        </li>
        <li>
            Part 7 - <a href="/2015/11/habit-of-a-solid-developer-changes-should-be-taken-with-baby-steps/">Changes Should be Taken with Baby Steps</a>
        </li>
        <li>
            Part 8 - <a href="/2015/11/habit-of-a-solid-developer-podcasts/">Podcasts</a>
        </li>
        <li>
            Part 9 - <a href="/2016/01/habit-of-a-solid-developer-rapid-feedback/">Rapid Feedback</a>
        </li>
    </ul>
</div></p>
<blockquote>
<p>One technique I use regularly when working with a team or even by myself is lots of individual code reviews.</p>
</blockquote>
<h1>This is not a formal (sit down with someone) code review.</h1>
<p>This is a personal practice I found extremely useful.</p>
<p>Granted, I'm not talking about reviewing every commit in a repository the <a href="https://www.youtube.com/watch?v=X0VH78ye4yY">size of Facebooks</a>. Most of the projects I have participated in are on small enough teams (between 1-10 people) that reviewing code changes either as they come in or in some block during the day is completely feasible.</p>
<p>Depending on the project, how many developers, time zones of committers, I shift how often or how thorough I review the changes but I try to review each and every commit (or at least the branch merge). This is one reason why <a href="http://staxmanade.com/2014/02/segregate-your-code-commits-into-tiny/">segregating your code commits into tiny topical changes</a> is important.</p>
<p>If you're working with a source control that doesn't have an easy way to do <a href="http://git-scm.com/docs/git-request-pull">pull requests</a>. Or some other code review functionality, you can still use the source control system to manually review changes or diffs between branches. Way back when I was <strong>forced</strong> to use TFS source control this was a much more manual process. I would open up Visual Studio, browse our TFS server and begin reviewing. These days, the power of a pull request is generally suffecient for this purpose.</p>
<h1>What happens in this review?</h1>
<p>One approach I've taken in the past is to block some time, possibly while warming up with a cup of coffee to begin reviewing the previous day's commits. I would use this time to not only review other developer's changes, but I would also re-review my own commits. This helped remind me what I worked on and possibly what I was struggling through the previous day. Reviewing code the next day provided time for my mental perspective to have shifted. I was probably thinking about things a little more clearly after a nights rest. Maybe I'd learned something that could be applied to the problem being worked on and provide better setup for changes needing to be made that day.</p>
<p>Some other benefits the morning review process provided include:</p>
<ul>
<li>It was a bit of a meditative process in the early morning that put my brain on a code thinking track for the day.</li>
<li>I could take notes on changes other's had made that were not clear. (Note: this is generally done in an environment that didn't perscribe peer-reviewing code changes). So I essentially took the job on personally to review other's changes. Provide feedback, or ask question to get more understanding of their changes.</li>
<li>Easily catch when the project conventions were not being followed, when the <a href="http://staxmanade.com/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">convention was not automated</a>.</li>
<li>Potentially spot bugs being introduced.</li>
<li>Suggest potentially better approaches.</li>
</ul>
<p>However, the most important thing I gained by doing this was:</p>
<ul>
<li>Gain a better understanding of the entire project.</li>
<li>Learn from others. I'd like to think I'm a pretty good develoepr, but there is so much to know and learn that reading other's code provides a great way to learn something new (or possibly what not to do).</li>
</ul>
<p>I once had a fellow developer say to me that they were blown away at how quick I could spin up on a brownfield project and get an architectural understanding that I could apply that knowledge and not only contribute quickly, but spot the places where we could improve general architectural patterns or jump in and become productive on a problem set.</p>
<p>I believe that reviewing the changes going into a code base each day allowed me to keep a strong perspective on what is shifting within the project and be able to talk intelligibly when others start to get stuck on their work.</p>
<h1>Formal Code Reviews</h1>
<p>If your team practices some form of code review workflow, this is great for those participating in the review process. However, it leaves the rest of the developers out of that specific review.</p>
<p>This should not stop those not in the review room (or pull request) from participating and learning from the changes.</p>
<p>Many of the places I've worked don't have a formal review process in place, so by putting this little ritual in place for myself I can not only come up to speed on a project but can be helpful to all aspects of the project. Reviewing changes every day allows me to more easily understand what people were working on when they announce it during the morning standup.</p>
<h1>Just Review Everything</h1>
<p>If you project is small enough and you can - spend a moment each day and review everything going on in the project. You and you're team will likely be better off.</p>
<p>Happy Reviewing!</p>
</div>

      <a href="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/#disqus_thread" data-disqus-identifier="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">Habit of a Solid Developer - Part 2 - Automatically Enforce Project Conventions</a></h1>
    <p class="meta">
          <time datetime="2015-09-09T06:20:41.092Z" pubdate data-updated="true">Sep 8th 2015</time>


        <a href="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/#disqus_thread" data-disqus-identifier="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>﻿
<div class="seriesNote">
    <p>This article is <strong>Part 2</strong> of <strong>11</strong> in a series about <strong>Habit of a Solid Developer</strong>.</p>
    <ul>
        <li>
            Part 1 - <a href="/2015/08/habit-of-a-solid-developer-introduction/">Introduction</a>
        </li>
        <li>
            Part 2 - (current) - Automatically Enforce Project Conventions
        </li>
        <li>
            Part 3 - <a href="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">Self Prescribed Code Reviews</a>
        </li>
        <li>
            Part 4 - <a href="/2015/09/habit-of-a-solid-developer-git-dance/">Git Dance</a>
        </li>
        <li>
            Part 5 - <a href="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">Update or Add Documentation while Reading Code</a>
        </li>
        <li>
            Part 6 - <a href="/2015/10/habit-of-a-solid-developer-dig-a-little-deeper/">Dig a Little Deeper</a>
        </li>
        <li>
            Part 7 - <a href="/2015/11/habit-of-a-solid-developer-changes-should-be-taken-with-baby-steps/">Changes Should be Taken with Baby Steps</a>
        </li>
        <li>
            Part 8 - <a href="/2015/11/habit-of-a-solid-developer-podcasts/">Podcasts</a>
        </li>
        <li>
            Part 9 - <a href="/2016/01/habit-of-a-solid-developer-rapid-feedback/">Rapid Feedback</a>
        </li>
    </ul>
</div></p>
<p>Every project generates it's own constraints. These may come from an Architect's idea of &quot;best practice&quot; or it may come from the domain the software is written in. It may even be derived because of the programming language you're using. For example, in JavaScript we have linters that encourage rules like triple equals <code>===</code> vs double equals <code>==</code>.</p>
<p>Whatever the convention or rule is, one of the best steps you can take is to <strong>find a way to automatically enforce the convention</strong> once it can be established.</p>
<p>The class of conventions can encompass a wide array of rules; anything from the formatting of the code, naming conventions, to obscure ways of doing X with component Y that if not done in that way will cause problems.</p>
<p>Finding a way to automatically check and enforce conventions will help to not only keep the project on track if a newer developer is onboard and isn't aware of the convention to even catching the most senior developer when they forget the convention all together (It's happened to me - forget).</p>
<h1>An example of a project convention</h1>
<p>In the past, I worked on a mutual fund and stock trading engine. This entire system depended heavily on time in various places like billing, trading, etc. Deep down in the core of the application we built in an abstraction over the core Date implementation. This abstraction allowed us to do things like roll the date back for testing or debugging purposes or simulate billing over time rages.</p>
<p>However, if someone ever used a <code>new Date()</code> in the code, this would break the convention by not using our abstraction and not allow us to roll time properly. This could lead to serious or hard to find bugs.</p>
<p>Detecting the miss-use of Date in this application was a great place for automated enforcement.</p>
<p>The above can be caught by running code reviews. However, we baked this convention into the system and automated the enforcement of it so that the issue could be caught much earlier in the development lifecycle. With a well-placed a unit/integration test that searched through the code base for uses of <code>new Date()</code> and raised an error message explaining why, we were able to be sure the projects convention was held and avoid potential bugs in the future.</p>
<h1>Fail with a solid path forward</h1>
<p>In the automated convention enforcement described above, the convention would not just fail a test with a generic <code>do not use new Date()...</code> message.</p>
<p>This is a good place to document or share a story about why <code>new Date()</code> was not allowed. We failed the test with a long error message that described both why not to use <code>new Date()</code> and we included a sample snippet of what to use in its place.</p>
<p>You want to include the why as well as the what here to make adoption of the conventions easier going forward for those new to the team or project.</p>
<h1>Allow special exclusions</h1>
<p>Most conventions are generalizations that may not ALWAYS be necessary or ideal. There often exceptions to the rule in software development, so allowing the test code to be extended to enable exclusions to this rule is a good thing.</p>
<p>In the example  above we had a place in the unit test that allowed us to say &quot;In component M method Y we allowed the use of a single case of <code>new Date()</code>&quot;. The first exercise of the exclusion was built in to the original abstraction over time. But there were a couple other places we allowed it as I recall.</p>
<h1>Some automation approaches</h1>
<p>Depending on the convention, the approach to automation can vary. Sometimes it's as easy as adding a simple unit test. Other times it requires you jump out to a command line utility that searches the entire codebase.</p>
<p>Whatever the convention, try to come up with a simple approach that can automatically be run through a continuous integration environment and can freely be there to watch over you and your team's conventions.</p>
<h1>Tools to help enforce conventions</h1>
<p>I've started to <a href="https://github.com/staxmanade/automated-conventions">compile a small list</a> of tools that you may consider to help enforce conventions on your team. Please feel free to suggest others by submitting a pull-request.</p>
<p>Happy Automating!</p>
</div>

      <a href="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/#disqus_thread" data-disqus-identifier="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/09/jsmp-systemjs-starter-plunker/">JSMP/SystemJS Starter Plunker</a></h1>
    <p class="meta">
          <time datetime="2015-09-09T05:35:11.207Z" pubdate data-updated="true">Sep 8th 2015</time>


        <a href="/2015/09/jsmp-systemjs-starter-plunker/#disqus_thread" data-disqus-identifier="/2015/09/jsmp-systemjs-starter-plunker/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>I'm writing this post more for myself as a quick way to get going with JSPM, but if you find it useful please feel free.</p>
<p>Since I've recently been playing with <a href="http://jspm.io">JSPM</a>, I've found it useful to kick-start my prototyping with a plunk. I've created a number of starter plunks below (and continue to add to the list.</p>
<h1>Full list of JSPM starter plunks</h1>
<h2><a href="http://plnkr.co/edit/RwUyLb?p=preview">JSPM Starter</a></h2>
<h2><a href="http://plnkr.co/edit/XWVTSx?p=preview">JSPM, React</a></h2>
<h2><a href="http://plnkr.co/edit/LLQQqg?p=preview">JSPM, MochaJS</a></h2>
<h2><a href="http://plnkr.co/edit/TFbsNJ?p=preview">JSPM, React, MochaJS</a></h2>
<h2><a href="http://plnkr.co/edit/QPDetQ?p=preview">JSPM, React, MochaJS, (Sample jsx Component test)</a></h2>
<h2><a href="http://plnkr.co/edit/XKrZHJ?p=preview">JSPM, React, WinJS</a></h2>
<h2><a href="http://plnkr.co/edit/feKPEx?p=preview">JSPM, React, WinJS, MochaJS</a></h2>
<hr>
<h1>How to use:</h1>
<ol>
<li>Click one of the links above</li>
<li>Review the various files. Open and edit the <code>app.js</code> file</li>
<li>Start writing code!</li>
</ol>
<blockquote>
<p>Be sure to open your developer tools and monitor any console output for errors...</p>
</blockquote>
<p>If you want to take more of a test driven approach to your prototype take a look at <a href="http://staxmanade.com/2015/09/browser-only-mochajs-tests-using-systemjs/">MochaJS with JSPM</a> or go directly to the <a href="http://plnkr.co/edit/LLQQqg?p=preview">JSPM/MochaJS Plunk</a></p>
<p>Happy Prototyping!</p>
</div>

      <a href="/2015/09/jsmp-systemjs-starter-plunker/#disqus_thread" data-disqus-identifier="/2015/09/jsmp-systemjs-starter-plunker/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/09/browser-only-mochajs-tests-using-systemjs/">Browser only MochaJS tests using SystemJS</a></h1>
    <p class="meta">
          <time datetime="2015-09-04T22:41:38.170Z" pubdate data-updated="true">Sep 4th 2015</time>


        <a href="/2015/09/browser-only-mochajs-tests-using-systemjs/#disqus_thread" data-disqus-identifier="/2015/09/browser-only-mochajs-tests-using-systemjs/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>I've been poking at <a href="https://github.com/systemjs/systemjs">SystemJS</a> (you may have heard of it through <a href="http://jspm.io">JSPM</a>) and one of the first things I like to setup when playing with a new JS framework is a way to run <a href="https://mochajs.org">MochaJS</a> unit tests which allow me to test-drive my prototypes and in this case the best part is we don't have to do any local command line installations or crazy gulp/grunt builds. We can right in the browser start writing plain ES6 and prototype using a library from <a href="https://npmjs.org">npm</a> or <a href="https://github.com">github</a>.</p>
<p>SystemJS is a very exciting project with it's ability to import modules/code right from you're JS code itself. You can write you're JS using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">ES6 import</a> syntax and in many cases SystemJS will magically import code via NPM or GitHub directly.</p>
<h1>TL;DR</h1>
<p>If you want to skip the details below and just see the <a href="http://plnkr.co/edit/LLQQqg?p=preview">plnkr.co</a> go right ahead!</p>
<h1>How to run our first Mocha test</h1>
<p>First we need to get a simple web page setup. I'm going to use <a href="http://plnkr.co/">plnkr.co</a> as it allows me to specify multiple files. This will allow me to more easily componentize my code for cleaner extraction into a project, gist or other...</p>
<p>Once you have a basic Plunker setup go ahead and delete everything except <code>index.html</code> of for now.</p>
<p>Now we're ready to start throwing our code in here... But before you do open you're browser's developer tools. I'm using Chrome on the Mac so <code>Cmd+Option+j</code> will do it. We need to be able to see the javascript console in case we see any errors with SystemJS loading of modules.</p>
<p><code>index.html</code> &lt;- paste the below in for you're Plunker <code>index.html</code>.</p>
<pre><code><span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"https://jspm.io/system@0.18.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="actionscript">
    System.<span class="hljs-keyword">import</span>(<span class="hljs-string">'./testInit.js'</span>);
  </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
<p>With the above in the <code>index.html</code> you should see some errors printed to the console as SystemJS is trying to load <code>./testInit.js</code> (but we haven't created it yet).</p>
<p>Before we create the <code>testInit.js</code> file let's first create a couple sample MochaJS test files that we want to test.</p>
<p>Here's our first test file: name it <code>mochaTest1.js</code></p>
<p>Something cool about this test is once we get mocha wired up correctly, this test shows how seamlessly you can take a dependency on a 3rd party library like <a href="http://chaijs.com/">chaijs</a> for help with assertions.</p>
<pre><code><span class="hljs-keyword">import</span> { expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'chai'</span>;

describe(<span class="hljs-string">"This is a describe"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">"sample test that should pass"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    expect(<span class="hljs-literal">true</span>).to.equal(<span class="hljs-literal">true</span>);
  });
  it(<span class="hljs-string">"sample test that should fail"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    expect(<span class="hljs-literal">true</span>).to.equal(<span class="hljs-literal">false</span>);
  });
});
</code></pre>
<p>Create another test file <code>mochaTest2.js</code></p>
<pre><code><span class="hljs-keyword">import</span> { expect } <span class="hljs-keyword">from</span> <span class="hljs-string">'chai'</span>;

describe(<span class="hljs-string">"This is another describe"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
  it(<span class="hljs-string">"sample test that should pass"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    expect(<span class="hljs-literal">true</span>).to.equal(<span class="hljs-literal">true</span>);
  });
  it(<span class="hljs-string">"sample test that should fail"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    expect(<span class="hljs-literal">true</span>).to.equal(<span class="hljs-literal">false</span>);
  });
});
</code></pre>
<p>Creating two test files allows this sample to show how you can easily create and test multiple modules.</p>
<h1>The meat and potatoes</h1>
<p>Now is the juicy part on how to get Mocha to play nicely with this setup and run our tests.</p>
<p>Create a file and call it <code>testInit.js</code> (same as we named in our <code>index.html</code> and referenced it via <code>System.import('./testInit.js')</code>) and paste the below.</p>
<p>Feel free to read through it as I commented it thoroughly.</p>
<pre><code><span class="hljs-comment">//</span>
<span class="hljs-comment">// This tells SystemJS to load the mocha library</span>
<span class="hljs-comment">// and allows us to interact with the library below.</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">import</span> mocha <span class="hljs-keyword">from</span> <span class="hljs-string">'mocha'</span>;

<span class="hljs-comment">//</span>
<span class="hljs-comment">// This defines the list of test files we want to load and run tests against.</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> mochaTestScripts = [
  <span class="hljs-string">'./mochaTest1.js'</span>,
  <span class="hljs-string">'./mochaTest2.js'</span>
];

<span class="hljs-comment">//</span>
<span class="hljs-comment">// If you have a global or two that get exposed from your</span>
<span class="hljs-comment">// tests that is expected you can include them here</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> allowedMochaGlobals = [
  <span class="hljs-string">'jQuery'</span>
]


<span class="hljs-comment">//</span>
<span class="hljs-comment">// Mocha needs a &lt;div id="mocha"&gt;&lt;/div&gt; for the browser</span>
<span class="hljs-comment">// test reporter to inject test results in to the U.I.</span>
<span class="hljs-comment">// Below just injects it at the bottom of the page. (You can get fancy here)</span>
<span class="hljs-comment">// Maybe you create a button in your website and allow anyone to run tests.</span>
<span class="hljs-comment">// Check out http://staxmanade.com/2015/03/in-app-unit-tests/ for more on the thought</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> mochaDiv = <span class="hljs-built_in">document</span>.createElement(<span class="hljs-string">'div'</span>);
mochaDiv.id = <span class="hljs-string">"mocha"</span>;
<span class="hljs-built_in">document</span>.body.appendChild(mochaDiv);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// Importing mocha with JSPM and ES6 doesn't expose the usual mocha globals.</span>
<span class="hljs-comment">// I found this is one way to manually expose the globals, however if you know of a better way please let me know...</span>
<span class="hljs-comment">//</span>
mocha.suite.on(<span class="hljs-string">'pre-require'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">context</span>) </span>{
  <span class="hljs-keyword">var</span> exports = <span class="hljs-built_in">window</span>;

  exports.afterEach = context.afterEach || context.teardown;
  exports.after = context.after || context.suiteTeardown;
  exports.beforeEach = context.beforeEach || context.setup;
  exports.before = context.before || context.suiteSetup;
  exports.describe = context.describe || context.suite;
  exports.it = context.it || context.test;
  exports.setup = context.setup || context.beforeEach;
  exports.suiteSetup = context.suiteSetup || context.before;
  exports.suiteTeardown = context.suiteTeardown || context.after;
  exports.suite = context.suite || context.describe;
  exports.teardown = context.teardown || context.afterEach;
  exports.test = context.test || context.it;
  exports.run = context.run;

  <span class="hljs-comment">// now use SystemJS to load all test files</span>
  <span class="hljs-built_in">Promise</span>
    .all(mochaTestScripts.map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">testScript</span>) </span>{
      <span class="hljs-keyword">return</span> System.import(testScript);
    })).then(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
      mocha.checkLeaks();
      mocha.globals(allowedMochaGlobals);
      mocha.run();
    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
      <span class="hljs-built_in">console</span>.error(<span class="hljs-string">"Error loading test modules"</span>);
      <span class="hljs-built_in">console</span>.error(err);
    });

});

mocha.setup(<span class="hljs-string">'bdd'</span>);
</code></pre>
<blockquote>
<p>Please let me know if you know of an easier way to get access to the mochas globals using SystemJS. The below works, but is a bit uncomfortable.</p>
</blockquote>
<h1>MochaJS Tests Right in the Browser...</h1>
<p><strong>How awesome is this.</strong> Couple bits of bootstrap code, and we can go author whatever we want right in the browser using ES6 (err EcmaScript 2015) and we're off and running.</p>
<h1><img class="emoji" title="warning" alt="warning" src="https://assets-cdn.github.com/images/icons/emoji/unicode/26a0.png" height="20" width="20" align="absmiddle"> NOT FOR PRODUCTION WORKFLOWS (yet)! <img class="emoji" title="warning" alt="warning" src="https://assets-cdn.github.com/images/icons/emoji/unicode/26a0.png" height="20" width="20" align="absmiddle"></h1>
<p>This approach is primarily for allowing quick prototyping. Don't implement a complete app like this and then expect any performance. SystemJS can potentially download a large number of dependencies and you should read up on <a href="https://github.com/jspm/jspm-cli/wiki/Production-Workflows">JSPM production workflows</a>.</p>
<p>Happy Browser-Only Testing.</p>
</div>

      <a href="/2015/09/browser-only-mochajs-tests-using-systemjs/#disqus_thread" data-disqus-identifier="/2015/09/browser-only-mochajs-tests-using-systemjs/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/08/habit-of-a-solid-developer-introduction/">Habit of a Solid Developer - Part 1 - Introduction</a></h1>
    <p class="meta">
          <time datetime="2015-08-23T06:20:41.092Z" pubdate data-updated="true">Aug 22nd 2015</time>


        <a href="/2015/08/habit-of-a-solid-developer-introduction/#disqus_thread" data-disqus-identifier="/2015/08/habit-of-a-solid-developer-introduction/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>I've been thinking about some of the software development related habits that I've practiced and acquired over the years. I thought putting some of these down in posts and sharing would both help me solidify my own thinking on the subjects, but also provide a good place to link other developers or anyone I would like to send a topic when the context justifies it.</p>
<p>For this first post, I'd like to highlight some older posts that fit well into this category:</p>
<ul>
<li><a href="http://staxmanade.com/2012/01/you-are-responsible-for-making-that/">You are responsible for making that feature work. Write a test. Just do it…</a></li>
<li><a href="http://staxmanade.com/2014/02/segregate-your-code-commits-into-tiny/">Segregate your code commits into tiny topical changes</a></li>
<li><a href="http://staxmanade.com/2013/12/leave-yourself-breadcrumb-for-tomorrow/">Leave yourself a breadcrumb for tomorrow.</a></li>
<li><a href="http://staxmanade.com/2013/05/developer-humor/">Developer humor</a>
<ul>
<li>Not a practice - but good to take a step back and laugh a bit...</li>
</ul>
</li>
<li><a href="http://staxmanade.com/2014/03/rake-psake-grunt-gulp-jake-make-cake/">rake, psake, grunt, gulp, jake, make, cake, brunch, ant, bash, maven, or fabric. as long as you putOnAHelmet</a></li>
<li><a href="http://staxmanade.com/2014/11/one-of-the-simplest-things-you-can-do-to-improve-email-communication/">One of the Simplest Things You can do to Improve Email Communication</a></li>
</ul>
<p>In future posts I'm going to write down some of the habits that I think have helped me become a better developer over the years. While I get glimpses of (being the old guy) in a room of developers, I know that my learning is never done and my future has more personal growth than I can even imagine. Regardless, I hope you find these posts useful.</p>
<p>Happy Deving!</p>
<p>﻿
<div class="seriesNote">
    <p>This article is <strong>Part 1</strong> of <strong>11</strong> in a series about <strong>Habit of a Solid Developer</strong>.</p>
    <ul>
        <li>
            Part 1 - (current) - Introduction
        </li>
        <li>
            Part 2 - <a href="/2015/09/habit-of-a-solid-developer-automatically-enforce-project-conventions/">Automatically Enforce Project Conventions</a>
        </li>
        <li>
            Part 3 - <a href="/2015/09/habit-of-a-solid-developer-self-prescribed-code-reviews/">Self Prescribed Code Reviews</a>
        </li>
        <li>
            Part 4 - <a href="/2015/09/habit-of-a-solid-developer-git-dance/">Git Dance</a>
        </li>
        <li>
            Part 5 - <a href="/2015/10/habit-of-a-solid-developer-update-or-add-documentation-while-reading-code/">Update or Add Documentation while Reading Code</a>
        </li>
        <li>
            Part 6 - <a href="/2015/10/habit-of-a-solid-developer-dig-a-little-deeper/">Dig a Little Deeper</a>
        </li>
        <li>
            Part 7 - <a href="/2015/11/habit-of-a-solid-developer-changes-should-be-taken-with-baby-steps/">Changes Should be Taken with Baby Steps</a>
        </li>
        <li>
            Part 8 - <a href="/2015/11/habit-of-a-solid-developer-podcasts/">Podcasts</a>
        </li>
        <li>
            Part 9 - <a href="/2016/01/habit-of-a-solid-developer-rapid-feedback/">Rapid Feedback</a>
        </li>
    </ul>
</div></p>
</div>

      <a href="/2015/08/habit-of-a-solid-developer-introduction/#disqus_thread" data-disqus-identifier="/2015/08/habit-of-a-solid-developer-introduction/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/08/playing-with-typescript-and-jsx/">Hello World with TypeScript and JSX</a></h1>
    <p class="meta">
          <time datetime="2015-08-18T16:41:22.058Z" pubdate data-updated="true">Aug 18th 2015</time>


        <a href="/2015/08/playing-with-typescript-and-jsx/#disqus_thread" data-disqus-identifier="/2015/08/playing-with-typescript-and-jsx/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><blockquote>
<p>If you're looking for a solid TypeScript JSX tutorial <a href="https://github.com/RyanCavanaugh/jsx-intro#reusable-components">this is a great resource</a>.</p>
</blockquote>
<p>Last night I wanted to play with TypeScripts new support for <a href="http://jsx.github.io/">JSX</a>. In this post I'll walk through my process, and what I learned along the way. Hopefully you find this useful.</p>
<p>While it doesn't yet exist in the current version (at the time of this writing TypeScript is at 1.5), you can however grab a copy of the nightly builds from npm.</p>
<h1>Get the most recent nightly build.</h1>
<pre><code>npm install -g typescript@next
</code></pre>
<blockquote>
<p>The rest of this post was run against nightly build <code>Version 1.6.0-dev.20150814</code>.</p>
</blockquote>
<h2>Given this sample React/JSX</h2>
<pre><code><span class="hljs-keyword">var</span> HelloMessage = React.createClass({
  render: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> &lt;div&gt;Hello {<span class="hljs-keyword">this</span>.props.name}&lt;/div&gt;;
  }
});

React.render(&lt;HelloMessage name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<h1>Create a TypeScript version of a JSX file.</h1>
<p>Just like how TypeScript doesn't read <code>.js</code> but looks for <code>.ts</code> files (<a href="http://staxmanade.com/2014/05/how-to-compile-plain-star-dot-js-javascript-files-with-the-typescript-compiler/">unless you hack it</a>). TypeScript doesn't read <code>.jsx</code> files. It instead looks for <code>.tsx</code> files.</p>
<p>So if you save the above sample as a <code>helloWorld.tsx</code>, we can then run the <code>tsc</code> compiler against our <code>helloWorld.tsx</code> file.</p>
<p>If I run <code>tsc helloWorld.tsx</code> I get the following errors:</p>
<pre><code>&gt; tsc helloWorld<span class="hljs-class">.tsx</span>
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">1</span>,<span class="hljs-number">20</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'React'</span>.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">3</span>,<span class="hljs-number">12</span>)</span></span>: error TS17004: Cannot use JSX unless the <span class="hljs-string">'--jsx'</span> flag is provided.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">7</span>,<span class="hljs-number">1</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'React'</span>.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">7</span>,<span class="hljs-number">14</span>)</span></span>: error TS17004: Cannot use JSX unless the <span class="hljs-string">'--jsx'</span> flag is provided.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">7</span>,<span class="hljs-number">44</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'mountNode'</span>.
</code></pre>
<h1>Working through the errors...</h1>
<p>I could just show you the final output that compiles, but want to include my learning process (stumbling) as I fumble through and figure out the new command.</p>
<h1>Fixing <code>error TS2304: Cannot find name 'React'.</code></h1>
<p>If you've been using TypeScript for any amount of time, the first error should be easy to see. The compiler knows nothing about this thing called <code>React</code>. And I haven't used React with TypeScript before. I don't want to go write a bunch of TypeScript type definitions for react and can easily pull down ones created already by using <code>tsd</code> to install the Definitely Typed definitions for <code>React</code>.</p>
<h3>What is tsd?</h3>
<p>If you haven't seen <a href="http://definitelytyped.org/tsd/">TSD</a> before it's a great package manger utility for TypeScript Type Definitions.</p>
<p>It can be easily installed with <code>npm install -g tsd</code>.</p>
<h3>Installing React Type Definitions</h3>
<blockquote>
<p>UPDATE: Originally below I used <code>tsd</code> to install <code>react</code> but if you check out the comments <code>react-global</code> works out better and you can avoid some of the hacks I put in place to compile React below.</p>
</blockquote>
<p><code>tsd install react</code> which <code>tsd</code> will download from <a href="http://definitelytyped.org">Definitely Typed</a> the <code>react.d.ts</code> and place it in <code>./typings/react/react.d.ts</code>.</p>
<p>I then reference the file in our <code>helloWorld.tsx</code> which gives me the following:</p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>

<span class="hljs-keyword">var</span> HelloMessage = React.createClass({
  render: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> &lt;div&gt;Hello {<span class="hljs-keyword">this</span>.props.name}&lt;/div&gt;;
  }
});

React.render(&lt;HelloMessage name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<p>When I re-run <code>tsc helloWorld.tsx</code> hoping to get rid of the first error: hmmm</p>
<pre><code>&gt; tsc helloWorld<span class="hljs-class">.tsx</span>
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">3</span>,<span class="hljs-number">20</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'React'</span>.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">5</span>,<span class="hljs-number">12</span>)</span></span>: error TS17004: Cannot use JSX unless the <span class="hljs-string">'--jsx'</span> flag is provided.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">9</span>,<span class="hljs-number">1</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'React'</span>.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">9</span>,<span class="hljs-number">14</span>)</span></span>: error TS17004: Cannot use JSX unless the <span class="hljs-string">'--jsx'</span> flag is provided.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">9</span>,<span class="hljs-number">44</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'mountNode'</span>.
</code></pre>
<p>Well, that didn't get rid of our <code>error TS2304: Cannot find name 'React'.</code>. This threw me for a bit but eventually figured out that you need set it up by adding <code>import React = __React;</code>.</p>
<p>So that gives us this:</p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>
<span class="hljs-preprocessor"><span class="hljs-keyword">import</span> React = __React;</span>

<span class="hljs-keyword">var</span> HelloMessage = React.createClass({
  render: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> &lt;div&gt;Hello {<span class="hljs-keyword">this</span>.props.name}&lt;/div&gt;;
  }
});

React.render(&lt;HelloMessage name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<p>Now we should see some errors going away. <strong>And we do...</strong></p>
<pre><code>&gt; tsc helloWorld<span class="hljs-class">.tsx</span>
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">6</span>,<span class="hljs-number">12</span>)</span></span>: error TS17004: Cannot use JSX unless the <span class="hljs-string">'--jsx'</span> flag is provided.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">10</span>,<span class="hljs-number">14</span>)</span></span>: error TS2607: JSX element class does not support attributes because it does not have <span class="hljs-tag">a</span> <span class="hljs-string">'props'</span> property
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">10</span>,<span class="hljs-number">14</span>)</span></span>: error TS17004: Cannot use JSX unless the <span class="hljs-string">'--jsx'</span> flag is provided.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">10</span>,<span class="hljs-number">44</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'mountNode'</span>.
</code></pre>
<h1>Fixing <code>error TS17004: Cannot use JSX unless the '--jsx' flag is provided.</code></h1>
<p>The next error is new to me, but it makes some sense, so I add the <code>--jsx</code> flag to <code>tsc</code> and try <code>tsc --jsx helloWorld.tsx</code>, but looks like I missed a parameter to <code>--jsx</code>.</p>
<pre><code>&gt; tsc --jsx helloWorld.tsx
<span class="hljs-keyword">message</span> TS6081: Argument <span class="hljs-keyword">for</span> <span class="hljs-string">'--jsx'</span> must be <span class="hljs-string">'preserve'</span> <span class="hljs-keyword">or</span> <span class="hljs-string">'react'</span>.
</code></pre>
<p>In the current iteration of TypeScript 1.6 appears to have two options for <code>--jsx</code>, both <code>preserve</code> or <code>react</code>.</p>
<ul>
<li><code>preserve</code> will keep the <code>jsx</code> in the output. I presume this is so you can use tools like <code>JSX</code> to actually provide the translation.</li>
<li><code>react</code> will remove the <code>jsx</code> syntax and turn it in to plain javascript so <code>&lt;div&gt;&lt;/div&gt;</code> in the TSX file would become <code>React.createElement(&quot;div&quot;, null)</code>.</li>
</ul>
<p>By passing the <code>react</code> option, here's where we end up:</p>
<pre><code>&gt; tsc --jsx react helloWorld<span class="hljs-class">.tsx</span>
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">11</span>,<span class="hljs-number">14</span>)</span></span>: error TS2607: JSX element class does not support attributes because it does not have <span class="hljs-tag">a</span> <span class="hljs-string">'props'</span> property
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">11</span>,<span class="hljs-number">44</span>)</span></span>: error TS2304: Cannot find name <span class="hljs-string">'mountNode'</span>.
</code></pre>
<p>I'm going to tackle the last error next, as initially I didn't understand the JSX error above.</p>
<h1>Fixing <code>error TS2304: Cannot find name 'mountNode'.</code></h1>
<p>This one I'll just make the compiler happy and presume we defined <code>mountNode</code> as an html element probably a <code>&lt;div id=&quot;mountNode&quot;&gt;&lt;/div&gt;</code> somewhere in the global scope to keep this example short.</p>
<p>I place <code>declare var mountNode: any;</code> near the top of my <code>helloWorld.tsx</code> file and we're left with one last error:</p>
<pre><code>&gt; tsc <span class="hljs-comment">--jsx react helloWorld.tsx</span>
helloWorld.tsx(<span class="hljs-number">10</span>,<span class="hljs-number">14</span>): <span class="hljs-keyword">error</span> TS2607: JSX element <span class="hljs-type">class</span> <span class="hljs-keyword">does</span> <span class="hljs-keyword">not</span> support attributes because <span class="hljs-keyword">it</span> <span class="hljs-keyword">does</span> <span class="hljs-keyword">not</span> have a 'props' <span class="hljs-keyword">property</span>
</code></pre>
<h1>Fixing <code>error TS2607: JSX element class does not support attributes because it does not have a 'props' property</code></h1>
<p>This last error is actually the one that had me stumped, and mostly why I'm writing this lengthy post so I hope you find it and can work through it a little quicker than it took me.</p>
<p>What's happening here is TypeScript is doing what it was intended to do. It's statically checking our JSX in this case.</p>
<p>If you look at our sample above where we call <code>React.createClass(...)</code> and compare that to the type definition we see: <code>function createClass&lt;P, S&gt;(spec: ComponentSpec&lt;P, S&gt;): ClassicComponentClass&lt;P&gt;;</code> you may notice <code>P</code> and <code>S</code> generic parameters to <code>createClass&lt;P, S&gt;</code> which I didn't supply earlier.</p>
<p>The naming here wasn't immediately obvious, but some snooping around in the type definitions and I eventually found out <code>P</code> is referring to the type we pass in defining the structure of the react <code>props</code> and <code>S</code> defines the <code>state</code>.</p>
<p>So in this Hello World example when we placed <code>name=&quot;John&quot;</code> attribute inside the <code>&lt;HelloMessage name=&quot;John&quot; /&gt;</code> element and since we didn't give a <code>P</code> or <code>S</code> to the <code>React.createClass&lt;P,S&gt;(...)</code>, TypeScript was providing static type checking against an unknown type for <code>P &amp; S</code>. In this case saying that we can't apply the attributes to the element because we did not provide a generic type <code>P</code> to define what <code>props</code> are allowed to be included.</p>
<p>To fix this I create a type by using an <code>interface</code> like below:</p>
<pre><code><span class="hljs-tag">interface</span> <span class="hljs-tag">HelloWorldProps</span> <span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">name</span>:<span class="hljs-value"> string</span></span>;
}</span>
</code></pre>
<p>When I call <code>React.createClass</code> I pass in the <code>HelloWorldProps</code> interface for the <code>props</code> (<code>P</code>) and an <code>any</code> for the state (<code>S</code>) like so: <code>React.createClass&lt;HelloWorldProps, any&gt;(...)</code></p>
<h1>YAY IT COMPILES!!!</h1>
<p>Compiling the below by using <code>tsc --jsx react helloWorld.tsx</code></p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>
<span class="hljs-preprocessor"><span class="hljs-keyword">import</span> React = __React;</span>
declare <span class="hljs-keyword">var</span> mountNode: any;

<span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">HelloWorldProps</span> </span>{
  name: string;
}

<span class="hljs-keyword">var</span> HelloMessage = React.createClass&lt;HelloWorldProps, any&gt;({
  render: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> &lt;div&gt;Hello {<span class="hljs-keyword">this</span>.props.name}&lt;/div&gt;;
  }
});

React.render(&lt;HelloMessage name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<p>We get the following output in <code>helloWorld.js</code></p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>
<span class="hljs-keyword">var</span> React = __React;
<span class="hljs-keyword">var</span> HelloMessage = React.createClass({
    render: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> React.createElement(<span class="hljs-string">"div"</span>, <span class="hljs-literal">null</span>, <span class="hljs-string">"Hello "</span>, <span class="hljs-keyword">this</span>.props.name, React.createElement(<span class="hljs-string">"div"</span>, <span class="hljs-literal">null</span>));
    }
});
React.render(React.createElement(HelloMessage, {<span class="hljs-string">"name"</span>: <span class="hljs-string">"John"</span>}), mountNode);
</code></pre>
<h1>Let's improve it now...</h1>
<p>Since we started with a plain JavaScript version of our sample and we're now using TypeScript we get to take advantage of some of what TypeScript brings to the table.</p>
<p>But before we do this, let's first break our code (from a compiler) perspective to see what the above gave us...</p>
<h1>Let's break our example on purpose to see how TypeScript responds?</h1>
<p>I changed one character in two places in the working <code>helloWorld.tsx</code> file and when I run the compiler I get the following two errors. Can you spot what changed?</p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>
<span class="hljs-keyword">import</span> React = __React;
<span class="hljs-keyword">declare</span> <span class="hljs-keyword">var</span> mountNode: <span class="hljs-built_in">any</span>;

<span class="hljs-interface"><span class="hljs-keyword">interface</span> HelloWorldProps </span>{
  Name: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">var</span> HelloMessage = React.createClass&lt;HelloWorldProps, <span class="hljs-built_in">any</span>&gt;({
  render: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> &lt;div&gt;Hello {<span class="hljs-keyword">this</span>.props.mane} &lt;div&gt;&lt;<span class="hljs-regexp">/div&gt;&lt;/</span>div&gt;;
  }
});

React.render(&lt;HelloMessage name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<p>Output:</p>
<pre><code>&gt; tsc --jsx react helloWorld<span class="hljs-class">.tsx</span>
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">15</span>,<span class="hljs-number">14</span>)</span></span>: error TS2324: Property <span class="hljs-string">'Name'</span> is missing <span class="hljs-keyword">in</span> type <span class="hljs-string">'HelloWorldProps'</span>.
helloWorld.<span class="hljs-function"><span class="hljs-title">tsx</span><span class="hljs-params">(<span class="hljs-number">15</span>,<span class="hljs-number">28</span>)</span></span>: error TS2339: Property <span class="hljs-string">'name'</span> does not exist on type <span class="hljs-string">'HelloWorldProps'</span>.
</code></pre>
<p>Did you spot the change made? If you did, <strong>amazing</strong>. If you didn't, don't feel bad - it's a very simple and easy error to make when writing plain javascript. One that can't be found without actually executing plain JS, debugging, running unit tests or other checkers before even finding the error.</p>
<p>If you didn't spot the change by looking directly at the code, can you spot the change by reading the compiler error output?</p>
<p>Ok, give up? - I changed the <code>name</code> to <code>Name</code> in the <code>HelloWorldProps</code> interface definition AND in the JSX <code>this.props.mane</code> I spelled the props name <code>mane</code> wrong (should be <code>Name</code> according to our interface definition). So then why did we only get the error on line 15 (that's the <code>React.render(...)</code> line).</p>
<p>TypeScript in this case is using the <code>HelloWorldProps</code> interface and it's definition to type-check the attributes used in the JSX <code>&lt;HelloMessage /&gt;</code>.</p>
<p>This is great, the compiler found the error right in the JSX before we even tried to execute the code.</p>
<h1>Why didn't it detect the <code>mane</code> mis-spelled variable?</h1>
<p>I'm going to just take a guess on this one but I'm not a React guy yet, so it may have something to do with react internals (that I'm not feeling like digging into at the moment).</p>
<p>If you look at the <code>react.d.ts</code> you'll see that <code>React.createClass&lt;P,S&gt;()</code> returns a type of <code>ClassicComponentClass&lt;P&gt;</code>.</p>
<p>Thanks to a tip from Ryan (ya, the famous Ryan from the TypeScript team) has a great <a href="https://github.com/RyanCavanaugh/jsx-intro">write up about TypeScript and JSX</a> we should be avoiding all of the above use of <code>React.createClass(...)</code> and instead using the <code>ES6</code> <code>extends</code> functionality which we can leverage in TypeScript.</p>
<h1>Let's re-write...</h1>
<p>Turning the <code>HelloMessage</code> variable into an ES6 <code>class</code> we now also get type checking inside the component on <code>this.props</code> options. <strong>YAY!!!</strong>:</p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>
<span class="hljs-keyword">import</span> <span class="hljs-type">React</span> = __React;
declare <span class="hljs-keyword">var</span> mountNode: any;

interface <span class="hljs-type">HelloWorldProps</span> <span class="hljs-keyword">extends</span> <span class="hljs-type">React</span>.<span class="hljs-type">Props</span>&lt;any&gt; {
  <span class="hljs-type">Name</span>: string;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloMessage</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">React</span>.<span class="hljs-title">Component&lt;HelloWorldProps</span>, {</span>}&gt; {
  render() {
    <span class="hljs-keyword">return</span> &lt;div&gt;<span class="hljs-type">Hello</span> {<span class="hljs-keyword">this</span>.props.mane}&lt;/div&gt;;
  }
}

<span class="hljs-type">React</span>.render(&lt;<span class="hljs-type">HelloMessage</span> name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<p>The above gives us the following errors:</p>
<pre><code>&gt; tsc <span class="hljs-comment">--jsx react helloWorld.tsx</span>
helloWorld.tsx(<span class="hljs-number">11</span>,<span class="hljs-number">35</span>): error TS2339: <span class="hljs-keyword">Property</span> <span class="hljs-attribute">'mane</span>' does <span class="hljs-keyword">not</span> exist <span class="hljs-keyword">on</span> <span class="hljs-keyword">type</span> <span class="hljs-attribute">'HelloWorldProps</span>'.
helloWorld.tsx(<span class="hljs-number">15</span>,<span class="hljs-number">14</span>): error TS2324: <span class="hljs-keyword">Property</span> <span class="hljs-attribute">'Name</span>' <span class="hljs-keyword">is</span> missing <span class="hljs-keyword">in</span> <span class="hljs-keyword">type</span> <span class="hljs-attribute">'HelloWorldProps</span>'.
helloWorld.tsx(<span class="hljs-number">15</span>,<span class="hljs-number">28</span>): error TS2339: <span class="hljs-keyword">Property</span> <span class="hljs-attribute">'name</span>' does <span class="hljs-keyword">not</span> exist <span class="hljs-keyword">on</span> <span class="hljs-keyword">type</span> <span class="hljs-attribute">'HelloWorldProps</span>'.
</code></pre>
<h1>Final Answer</h1>
<p>So, a bit long winded, but below is the final sample HelloWorld React TypeScript JSX prototype.</p>
<pre><code><span class="hljs-comment">/// &lt;reference path="./typings/react/react.d.ts" /&gt;</span>
<span class="hljs-keyword">import</span> <span class="hljs-type">React</span> = __React;
declare <span class="hljs-keyword">var</span> mountNode: any;

interface <span class="hljs-type">HelloWorldProps</span> <span class="hljs-keyword">extends</span> <span class="hljs-type">React</span>.<span class="hljs-type">Props</span>&lt;any&gt; {
  name: string;
}

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HelloMessage</span> <span class="hljs-keyword"><span class="hljs-keyword">extends</span></span> <span class="hljs-title">React</span>.<span class="hljs-title">Component&lt;HelloWorldProps</span>, {</span>}&gt; {
  render() {
    <span class="hljs-keyword">return</span> &lt;div&gt;<span class="hljs-type">Hello</span> {<span class="hljs-keyword">this</span>.props.name}&lt;/div&gt;;
  }
}

<span class="hljs-type">React</span>.render(&lt;<span class="hljs-type">HelloMessage</span> name=<span class="hljs-string">"John"</span> /&gt;, mountNode);
</code></pre>
<h1>Wrap-up</h1>
<p>While it seemed a bit challenging getting started with TypeScript and JSX I could really see the benefit of the compiler helping out with React components going forward, and look forward to the future of this part of the project.</p>
<p>Thanks to the TypeScript team and community that helped bring all of this support together!</p>
<p>Happy <code>TSXing</code>!</p>
</div>

      <a href="/2015/08/playing-with-typescript-and-jsx/#disqus_thread" data-disqus-identifier="/2015/08/playing-with-typescript-and-jsx/">(Comments)</a>
    </article>
    <article>
        <header>
    <h1 class="entry-title"><a href="http://staxmanade.com/2015/06/debugging-ios-autolayout-issues/">Debugging iOS AutoLayout Issues</a></h1>
    <p class="meta">
          <time datetime="2015-06-01T16:33:59.235Z" pubdate data-updated="true">Jun 1st 2015</time>


        <a href="/2015/06/debugging-ios-autolayout-issues/#disqus_thread" data-disqus-identifier="/2015/06/debugging-ios-autolayout-issues/">(Comments)</a>
    </p>
</header>
<div class="entry-content"><p>This tip may not be news to you, but it was to me so I'll put this up here to help you, but more to help myself when I get stuck down the road and forget how to do this.</p>
<h1>Background</h1>
<p>I just stumbled upon a way to help when debugging and diagnosing issues around ambiguous auto layout constraints (you know the kind where iOS just picks the one it feels like to remove?).</p>
<p>Today I was researching why I was receiving the following output in my debugger console:</p>
<pre><code>Unable <span class="hljs-built_in">to</span> simultaneously satisfy constraints.
    Probably <span class="hljs-keyword">at</span> least <span class="hljs-constant">one</span> <span class="hljs-operator">of</span> <span class="hljs-operator">the</span> constraints <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> following list is <span class="hljs-constant">one</span> you don<span class="hljs-string">'t want. Try this: (1) look at each constraint and try to figure out which you don'</span>t expect; (<span class="hljs-number">2</span>) find <span class="hljs-operator">the</span> code that added <span class="hljs-operator">the</span> unwanted constraint <span class="hljs-operator">or</span> constraints <span class="hljs-operator">and</span> fix <span class="hljs-keyword">it</span>. (Note: If you<span class="hljs-string">'re seeing NSAutoresizingMaskLayoutConstraints that you don'</span>t understand, refer <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> documentation <span class="hljs-keyword">for</span> <span class="hljs-operator">the</span> UIView property translatesAutoresizingMaskIntoConstraints)
(
    <span class="hljs-string">"&lt;NSLayoutConstraint:0x7fc82d3e18a0 H:[UIView:0x7fc82aba1210(768)]&gt;"</span>,
    <span class="hljs-string">"&lt;NSLayoutConstraint:0x7fc82d6369e0 H:[UIView:0x7fc82aba1210]-(0)-|   (Names: '|':UIView:0x7fc82d6b9f80 )&gt;"</span>,
    <span class="hljs-string">"&lt;NSLayoutConstraint:0x7fc82d636a30 H:|-(0)-[UIView:0x7fc82aba1210]   (Names: '|':UIView:0x7fc82d6b9f80 )&gt;"</span>,
    <span class="hljs-string">"&lt;NSLayoutConstraint:0x7fc82d3e7fd0 'UIView-Encapsulated-Layout-Width' H:[UIView:0x7fc82d6b9f80(50)]&gt;"</span>
)

Will attempt <span class="hljs-built_in">to</span> recover <span class="hljs-keyword">by</span> breaking constraint
&lt;NSLayoutConstraint:<span class="hljs-number">0x7fc82d3e18a0</span> H:[UIView:<span class="hljs-number">0x7fc82aba1210</span>(<span class="hljs-number">768</span>)]&gt;

Make <span class="hljs-operator">a</span> symbolic <span class="hljs-built_in">breakpoint</span> <span class="hljs-keyword">at</span> UIViewAlertForUnsatisfiableConstraints <span class="hljs-built_in">to</span> <span class="hljs-keyword">catch</span> this <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> debugger.
The methods <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> UIConstraintBasedLayoutDebugging category <span class="hljs-command"><span class="hljs-keyword">on</span> <span class="hljs-title">UIView</span> <span class="hljs-title">listed</span> <span class="hljs-title">in</span> &lt;<span class="hljs-title">UIKit</span>/<span class="hljs-title">UIView</span>.<span class="hljs-title">h</span>&gt; <span class="hljs-title">may</span> <span class="hljs-title">also</span> <span class="hljs-title">be</span> <span class="hljs-title">helpful</span>.</span>
</code></pre>
<p>Now, I can tell from the above that theres an issue with the height constraint(s), but looking at this, I have no idea what view is being referenced which makes it quite difficult to jump to XCode and inspect the view's constraints.</p>
<p>But I worked through it, and learned the following along the way. Hope this helps you.</p>
<h1>How to set auto layout breakpoint in Xcode debugger</h1>
<p>Using this text <code>Make a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.</code> I found this great post on stack overflow on <a href="http://stackoverflow.com/questions/26389273/how-to-trap-on-uiviewalertforunsatisfiableconstraints/26389957#26389957">How to trap on UIViewAlertForUnsatisfiableConstraints</a> but have copied below for reference.</p>
<blockquote>
<p>You'll want to add a Symbolic Breakpoint. Apple provides an excellent guide on how to do this.</p>
<ol>
<li>Open the Breakpoint Navigator <code>cmd+7</code></li>
<li>Click the <code>Add</code> button in the lower left</li>
<li>Select <code>Add Symbolic Breakpoint</code>...</li>
<li>Where it says <code>Symbol</code> just type in <code>UIViewAlertForUnsatisfiableConstraints</code></li>
</ol>
<p>You can also treat it like any other breakpoint, turning it on and off, adding actions, or log messages.</p>
</blockquote>
<p>But that's only the first step. Once you've run the app and hit the breakpoint, you're left staring at assembly code and memory addresses, for example:</p>
<pre><code>UIKit`UIViewAlertForUnsatisfiableConstraints:
-&gt;  <span class="hljs-number">0x1131cc4a2</span> &lt;+<span class="hljs-number">0</span>&gt;:   pushq  %rbp
    <span class="hljs-number">0x1131cc4a3</span> &lt;+<span class="hljs-number">1</span>&gt;:   movq   %rsp, %rbp
    <span class="hljs-number">0x1131cc4a6</span> &lt;+<span class="hljs-number">4</span>&gt;:   pushq  %r15
    <span class="hljs-number">0x1131cc4a8</span> &lt;+<span class="hljs-number">6</span>&gt;:   pushq  %r14
    <span class="hljs-number">0x1131cc4aa</span> &lt;+<span class="hljs-number">8</span>&gt;:   pushq  %rbx
    <span class="hljs-number">0x1131cc4ab</span> &lt;+<span class="hljs-number">9</span>&gt;:   pushq  %rax
    <span class="hljs-number">0x1131cc4ac</span> &lt;+<span class="hljs-number">10</span>&gt;:  movq   %rsi, %r14
    <span class="hljs-number">0x1131cc4af</span> &lt;+<span class="hljs-number">13</span>&gt;:  movq   %rdi, %r15
    <span class="hljs-number">0x1131cc4b2</span> &lt;+<span class="hljs-number">16</span>&gt;:  cmpq   $-<span class="hljs-number">0x1</span>, <span class="hljs-number">0x778796</span>(%rip)     ; _UIConstraintBasedLayoutPlaySoundOnUnsatisfiable.result + <span class="hljs-number">7</span>
    <span class="hljs-number">0x1131cc4ba</span> &lt;+<span class="hljs-number">24</span>&gt;:  jne    <span class="hljs-number">0x1131cc529</span>               ; &lt;+<span class="hljs-number">135</span>&gt;
    <span class="hljs-number">0x1131cc4bc</span> &lt;+<span class="hljs-number">26</span>&gt;:  cmpb   $<span class="hljs-number">0x0</span>, <span class="hljs-number">0x778785</span>(%rip)      ; _UIConstraintBasedLayoutPlaySoundWhenEngaged.__once + <span class="hljs-number">7</span>
    <span class="hljs-number">0x1131cc4c3</span> &lt;+<span class="hljs-number">33</span>&gt;:  je     <span class="hljs-number">0x1131cc4ed</span>               ; &lt;+<span class="hljs-number">75</span>&gt;
    <span class="hljs-number">0x1131cc4c5</span> &lt;+<span class="hljs-number">35</span>&gt;:  movq   <span class="hljs-number">0x73cd8c</span>(%rip), %rdi      ; (<span class="hljs-keyword">void</span> *)<span class="hljs-number">0x0000000113925248</span>: UIDevice
    <span class="hljs-number">0x1131cc4cc</span> &lt;+<span class="hljs-number">42</span>&gt;:  movq   <span class="hljs-number">0x7108e5</span>(%rip), %rsi      ; <span class="hljs-string">"currentDevice"</span>
    <span class="hljs-number">0x1131cc4d3</span> &lt;+<span class="hljs-number">49</span>&gt;:  movq   <span class="hljs-number">0x4d7aee</span>(%rip), %rbx      ; (<span class="hljs-keyword">void</span> *)<span class="hljs-number">0x0000000114598000</span>: objc_msgSend
    <span class="hljs-number">0x1131cc4da</span> &lt;+<span class="hljs-number">56</span>&gt;:  callq  *%rbx
    <span class="hljs-number">0x1131cc4dc</span> &lt;+<span class="hljs-number">58</span>&gt;:  movq   <span class="hljs-number">0x71e375</span>(%rip), %rsi      ; <span class="hljs-string">"_playSystemSound:"</span>
    <span class="hljs-number">0x1131cc4e3</span> &lt;+<span class="hljs-number">65</span>&gt;:  movl   $<span class="hljs-number">0x3ee</span>, %edx
    <span class="hljs-number">0x1131cc4e8</span> &lt;+<span class="hljs-number">70</span>&gt;:  movq   %rax, %rdi
    <span class="hljs-number">0x1131cc4eb</span> &lt;+<span class="hljs-number">73</span>&gt;:  callq  *%rbx
    <span class="hljs-number">0x1131cc4ed</span> &lt;+<span class="hljs-number">75</span>&gt;:  cmpq   $-<span class="hljs-number">0x1</span>, <span class="hljs-number">0x77877b</span>(%rip)     ; _UIConstraintBasedLayoutLogUnsatisfiable.result + <span class="hljs-number">7</span>
    <span class="hljs-number">0x1131cc4f5</span> &lt;+<span class="hljs-number">83</span>&gt;:  jne    <span class="hljs-number">0x1131cc541</span>               ; &lt;+<span class="hljs-number">159</span>&gt;
    <span class="hljs-number">0x1131cc4f7</span> &lt;+<span class="hljs-number">85</span>&gt;:  cmpb   $<span class="hljs-number">0x0</span>, <span class="hljs-number">0x77876a</span>(%rip)      ; _UIConstraintBasedLayoutVisualizeMutuallyExclusiveConstraints.__once + <span class="hljs-number">7</span>
    <span class="hljs-number">0x1131cc4fe</span> &lt;+<span class="hljs-number">92</span>&gt;:  je     <span class="hljs-number">0x1131cc51e</span>               ; &lt;+<span class="hljs-number">124</span>&gt;
    <span class="hljs-number">0x1131cc500</span> &lt;+<span class="hljs-number">94</span>&gt;:  leaq   <span class="hljs-number">0x53ba89</span>(%rip), %rdi      ; @<span class="hljs-string">"Unable to simultaneously satisfy constraints.\n\tProbably at least one of the constraints in the following list is one you don't want. Try this: (1) look at each constraint and try to figure out which you don't expect; (2) find the code that added the unwanted constraint or constraints and fix it. (Note: If you're seeing NSAutoresizingMaskLayoutConstraints that you don't understand, refer to the documentation for the UIView property translatesAutoresizingMaskIntoConstraints) \n%@\n\nWill attempt to recover by breaking constraint \n%@\n\nMake a symbolic breakpoint at UIViewAlertForUnsatisfiableConstraints to catch this in the debugger.\nThe methods in the UIConstraintBasedLayoutDebugging category on UIView listed in &lt;UIKit/UIView.h&gt; may also be helpful."</span>
    <span class="hljs-number">0x1131cc507</span> &lt;+<span class="hljs-number">101</span>&gt;: xorl   %eax, %eax
    <span class="hljs-number">0x1131cc509</span> &lt;+<span class="hljs-number">103</span>&gt;: movq   %r14, %rsi
    <span class="hljs-number">0x1131cc50c</span> &lt;+<span class="hljs-number">106</span>&gt;: movq   %r15, %rdx
    <span class="hljs-number">0x1131cc50f</span> &lt;+<span class="hljs-number">109</span>&gt;: addq   $<span class="hljs-number">0x8</span>, %rsp
    <span class="hljs-number">0x1131cc513</span> &lt;+<span class="hljs-number">113</span>&gt;: popq   %rbx
    <span class="hljs-number">0x1131cc514</span> &lt;+<span class="hljs-number">114</span>&gt;: popq   %r14
    <span class="hljs-number">0x1131cc516</span> &lt;+<span class="hljs-number">116</span>&gt;: popq   %r15
    <span class="hljs-number">0x1131cc518</span> &lt;+<span class="hljs-number">118</span>&gt;: popq   %rbp
    <span class="hljs-number">0x1131cc519</span> &lt;+<span class="hljs-number">119</span>&gt;: jmp    <span class="hljs-number">0x11331930c</span>               ; symbol stub <span class="hljs-keyword">for</span>: NSLog
    <span class="hljs-number">0x1131cc51e</span> &lt;+<span class="hljs-number">124</span>&gt;: addq   $<span class="hljs-number">0x8</span>, %rsp
    <span class="hljs-number">0x1131cc522</span> &lt;+<span class="hljs-number">128</span>&gt;: popq   %rbx
    <span class="hljs-number">0x1131cc523</span> &lt;+<span class="hljs-number">129</span>&gt;: popq   %r14
    <span class="hljs-number">0x1131cc525</span> &lt;+<span class="hljs-number">131</span>&gt;: popq   %r15
    <span class="hljs-number">0x1131cc527</span> &lt;+<span class="hljs-number">133</span>&gt;: popq   %rbp
    <span class="hljs-number">0x1131cc528</span> &lt;+<span class="hljs-number">134</span>&gt;: retq
    <span class="hljs-number">0x1131cc529</span> &lt;+<span class="hljs-number">135</span>&gt;: leaq   <span class="hljs-number">0x778720</span>(%rip), %rdi      ; _UIConstraintBasedLayoutPlaySoundOnUnsatisfiable.__once
    <span class="hljs-number">0x1131cc530</span> &lt;+<span class="hljs-number">142</span>&gt;: leaq   <span class="hljs-number">0x4fdb59</span>(%rip), %rsi      ; __block_literal_global68
    <span class="hljs-number">0x1131cc537</span> &lt;+<span class="hljs-number">149</span>&gt;: callq  <span class="hljs-number">0x11331a2a8</span>               ; symbol stub <span class="hljs-keyword">for</span>: dispatch_once
    <span class="hljs-number">0x1131cc53c</span> &lt;+<span class="hljs-number">154</span>&gt;: jmp    <span class="hljs-number">0x1131cc4bc</span>               ; &lt;+<span class="hljs-number">26</span>&gt;
    <span class="hljs-number">0x1131cc541</span> &lt;+<span class="hljs-number">159</span>&gt;: leaq   <span class="hljs-number">0x778728</span>(%rip), %rdi      ; _UIConstraintBasedLayoutLogUnsatisfiable.__once
    <span class="hljs-number">0x1131cc548</span> &lt;+<span class="hljs-number">166</span>&gt;: leaq   <span class="hljs-number">0x4fdbc1</span>(%rip), %rsi      ; __block_literal_global76
    <span class="hljs-number">0x1131cc54f</span> &lt;+<span class="hljs-number">173</span>&gt;: callq  <span class="hljs-number">0x11331a2a8</span>               ; symbol stub <span class="hljs-keyword">for</span>: dispatch_once
    <span class="hljs-number">0x1131cc554</span> &lt;+<span class="hljs-number">178</span>&gt;: jmp    <span class="hljs-number">0x1131cc4f7</span>               ; &lt;+<span class="hljs-number">85</span>&gt;
</code></pre>
<h1>What next?</h1>
<p>We can use the Xcode debug console output to gather more information than we see it initially provides.</p>
<p>In the above example I'm going to take the following output:</p>
<pre><code>Will attempt to recover by breaking constraint &lt;NSLayoutConstraint:0x7fc82d3e18a0 H:[UIView:0x7fc82aba1210(768)]&gt;
</code></pre>
<p>Pull out the <code>UIView</code>'s memory address <code>0x7fd8fe59a440</code> and use the XCode console to dig deeper and try to get a better understanding.</p>
<h1>Printing views from memory addresses</h1>
<p>The memory address <code>0x7fd8fe59a440</code> is a pointer to a <code>UIView</code>. Since we know that a <code>UIView</code> has other selectors we can query, we can begin to use these to dig deeper into the object and get a better understanding of which part of our view have auto layout constraints that are not playing nicely.</p>
<p>First we try to look at just the UIView and see if that helps us get a grasp as to which view is causing our troubles.</p>
<pre><code>po 0x7fc82aba1210
</code></pre>
<p>If this doesn't provide enough info as the below sample output shows (not very helpful).</p>
<pre><code>(lldb) po <span class="hljs-number">0x7fc82aba1210</span>
&lt;UIView: <span class="hljs-number">0x7fc82aba1210</span>; frame = (<span class="hljs-number">0</span> <span class="hljs-number">0</span>; <span class="hljs-number">768</span> <span class="hljs-number">359</span>); autoresize = RM+BM; layer = &lt;CALayer: <span class="hljs-number">0x7fc82d338960</span>&gt;&gt;
</code></pre>
<p>Maybe printing it's <a href="https://developer.apple.com/library/ios/technotes/tn2239/_index.html#//apple_ref/doc/uid/DTS40010638-CH1-SUBSECTION34"><code>recursiveDescription</code></a> will help out and in my case gives me a better idea of which component I'm actually trying to look at.</p>
<pre><code>(lldb) po [<span class="hljs-number">0x7fc82aba1210</span> recursiveDescription]
&lt;UIView: <span class="hljs-number">0x7fc82aba1210</span>; frame = (<span class="hljs-number">0</span> <span class="hljs-number">0</span>; <span class="hljs-number">768</span> <span class="hljs-number">359</span>); autoresize = RM+BM; layer = &lt;CALayer: <span class="hljs-number">0x7fc82d338960</span>&gt;&gt;
   | &lt;MYAPPButton: <span class="hljs-number">0x7fc82d61c800</span>; baseClass = UIButton; frame = (<span class="hljs-number">0</span> <span class="hljs-number">0</span>; <span class="hljs-number">768</span> <span class="hljs-number">359</span>); opaque = NO; autoresize = RM+BM; layer = &lt;CALayer: <span class="hljs-number">0x7fc82ab96570</span>&gt;&gt;
   |    | &lt;UIImageView: <span class="hljs-number">0x7fc82d3f7b10</span>; frame = (<span class="hljs-number">0</span> <span class="hljs-number">0</span>; <span class="hljs-number">0</span> <span class="hljs-number">0</span>); clipsToBounds = YES; opaque = NO; userInteractionEnabled = NO; layer = &lt;CALayer: <span class="hljs-number">0x7fc82d6e7020</span>&gt;&gt;
   | &lt;UIImageView: <span class="hljs-number">0x7fc82d54a1c0</span>; frame = (<span class="hljs-number">314</span> <span class="hljs-number">110</span>; <span class="hljs-number">140</span> <span class="hljs-number">140</span>); autoresize = RM+BM; userInteractionEnabled = NO; layer = &lt;CALayer: <span class="hljs-number">0x7fc82d52def0</span>&gt;&gt;
</code></pre>
<p>Or if that's not enough context, then we can look at the view's superview and potentially even walk up the view's tree, printing out a different levels trying to understand which component is having trouble with auto layout.</p>
<pre><code>po [[0x7fc82aba1210 superview] recursiveDescription]
</code></pre>
<p>Once you've narrowed down which view inside which component is causing you trouble, now it's up to digging and finding the problematic constraint...</p>
<h1>Fix it</h1>
<p>This part I can't add much color to help you, except to start by looking in your storyboard, xib or code wherever the constraints are being added to the particular view we diagnosed above.</p>
<p>Hopefully this walk-through helps at least a little in diagnosing your auto layout constraint issues.</p>
<p>Happy debugging!</p>
</div>

      <a href="/2015/06/debugging-ios-autolayout-issues/#disqus_thread" data-disqus-identifier="/2015/06/debugging-ios-autolayout-issues/">(Comments)</a>
    </article>
  <div class="pagination">
      <a class="prev" href="/blog/pages/4/">&larr; Older</a>
    <a href="/blog/archives">Blog Archives</a>
      <a class="next" href="/blog/pages/2/">Newer &rarr;</a>
  </div>
</div>


    </div>
</div>
<footer role="contentinfo"><p>
  Copyright &copy; 2008-2016 - Jason Jarrett - <span class="credit">Powered by <a href="http://togglejs.github.io">Toggle</a></span>
</p>


<style>
  .jj-signup-form {
    text-align: right;
    position: fixed;
    bottom: 0;
    right: 0;
    width: 300px;
    display: none;
  }
</style>

<style>
    .jj-signup-form {
        border-width: thin;
        border-color: black;
        border-style: solid;
        background-color: white;
    }
</style>
<div class="jj-signup-form">
    <button class="jj-signup-form-close">Close</button>
    <div>
        <!-- Begin MailChimp Signup Form -->
        <link href="//cdn-images.mailchimp.com/embedcode/classic-10_7.css" rel="stylesheet" type="text/css">
        <style type="text/css">
            #mc_embed_signup {
                background: #fff;
                clear: left;
                font: 14px Helvetica, Arial, sans-serif;
            }
            /* Add your own MailChimp form style overrides in your site stylesheet or in this style block.
	   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */
        </style>
        <div id="mc_embed_signup">
            <form action="//staxmanade.us8.list-manage.com/subscribe/post?u=9a6f3f89fc58e1bbbddf5c3f8&amp;id=9e5406be65" method="post"
                id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
                <div id="mc_embed_signup_scroll">
                    <h2>Don't miss a post...</h2>
                    <div class="mc-field-group">
                        <label for="mce-FNAME">First Name </label>
                        <input type="text" value="" name="FNAME" class="" id="mce-FNAME">
                    </div>
                    <div class="mc-field-group">
                        <label for="mce-EMAIL">Email Address  <span class="asterisk">*</span>
</label>
                        <input type="email" value="" name="EMAIL" class="required email" id="mce-EMAIL">
                    </div>
                    <div id="mce-responses" class="clear">
                        <div class="response" id="mce-error-response" style="display:none"></div>
                        <div class="response" id="mce-success-response" style="display:none"></div>
                    </div>
                    <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
                    <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_9a6f3f89fc58e1bbbddf5c3f8_9e5406be65" tabindex="-1" value=""></div>
                    <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
                </div>
            </form>
        </div>
        <script type='text/javascript' src='//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js'></script>
        <script type='text/javascript'>
            (function($) {window.fnames = new Array(); window.ftypes = new Array();fnames[1]='FNAME';ftypes[1]='text';fnames[0]='EMAIL';ftypes[0]='email';}(jQuery));var $mcj = jQuery.noConflict(true);
        </script>
        <!--End mc_embed_signup-->
    </div>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/js-cookie/2.1.1/js.cookie.min.js"></script>
<script>
  (function(){
    try {
      if (Cookies.get('IKnowItIsACrappyPopupButMeh') !== "clicked") {
        document.querySelector('.jj-signup-form-close').addEventListener('click', function(){
            document.querySelector('.jj-signup-form').style.display = "none";
            Cookies.set("IKnowItIsACrappyPopupButMeh", "clicked", { expires: 180 });
        });

        setTimeout(function(){
          if(window.jjdisableSignupPopup) {
            return;
          }
          document.querySelector('.jj-signup-form').style.display = "initial";
        }, 1000);
      }

    } catch(e) {
        console.log(e);
    }
  })();

</script>
</footer>
  



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



</body>
</html>
